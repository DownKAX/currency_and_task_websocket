# FastApi проект с менеджером задач и конвертером валют

## Особенности
  - Создание пользователей с различными ролями(С помощью JWT Cookies)
  - Полностью асинхронный проект
     - Конечные точки
     - Тесты
     - База данных(SQLite)
     - Миграции
     - Обращение к внешним ресурсам
     - И т.д
  - Websocket сообщения при действиях, связанных с задачами
  - Пользовательский логгер

## Запуск
  1. Единственное, что вам нужно сделать - изменить API_KEY в .env, остальное всё настроено и готово к запуску
  2. Используйте в cmd: 
```bash
git clone https://github.com/DownKAX/currency_and_task_websocket.git
```
  3. **(Обязательно)** Активировать виртуальную среду
```bash
.venv\Scripts\activate
```
  4. Проект можно запустить либо запустив файл main.py, либо через:
```bash
bash uvicorn main:app --reload
```

## Тестирование
Для запуска тестов достаточно ввести 
```bash
pytest -v
```
Тесты используют отдельную тестовую базу данных, использующую миграции перед каждым тестом для изоляции. Миграции общие для тестовой и основной БД(применяются отдельно).

## Миграции
Для применения миграций к основной БД используются стандартные комманды
```bash
alembic upgrade head
alembic downgrade base
```
Если необходимо применить миграции к тестовой БД, то следует использовать следующие комманды
```bash
alembic -c alembic_test.ini upgrade head 
alembic -c alembic_test.ini downgrade base
```
## Запросы API

